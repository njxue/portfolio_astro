---
import Button from "./Button.astro";

const buttons = [
  { text: "Work", id: "workExperiences", icon: "briefcase.svg" },
  { text: "Projects", id: "projects", icon: "code.svg" },
  { text: "Coursework", id: "courseWork", icon: "graduation-hat.svg" },
];
---

<header
  class="flex flex-row justify-between p-5 border-b-2 border-gray-600 z-50 h-[70px] w-full top-0 fixed bg-snow dark:bg-[#121212] dark:text-white dark:border-gray-300"
>
  <div class="flex items-center gap-5">
    <h1 class="text-xl">Jing Xue</h1>
    <img
      src="/icons/moon.svg"
      class="w-5 cursor-pointer"
      id="toggleThemeButton"
      alt="toggleTheme"
    />
  </div>
  <div class="flex items-center gap-3 sm:gap-6" id="buttonsContainer">
    {
      buttons?.map((button) => (
        <Button text={button?.text} href={button?.id} icon={button?.icon} />
      ))
    }
  </div>
</header>

<script>
  const html = document.getElementById("app");
  const toggleThemeBtn = document.getElementById("toggleThemeButton");

  toggleThemeBtn?.addEventListener("click", toggleTheme);

  function toggleTheme() {
    const currTheme = localStorage.getItem("theme");
    if (currTheme === "dark") {
      localStorage.setItem("theme", "light");
      html.classList.remove("dark");
      toggleThemeBtn.setAttribute("src", "/icons/sun.svg");
    } else {
      localStorage.setItem("theme", "dark");
      html.classList.add("dark");
      toggleThemeBtn.setAttribute("src", "/icons/moon.svg");
    }
  }
</script>
